package com.company.project.EndersOverFlow.service;


import org.springframework.beans.factory.annotation.Autowired; 
import org.springframework.stereotype.Service;

import com.company.project.EndersOverFlow.model.Comments;
import com.company.project.EndersOverFlow.repository.CommentsRepository;

import java.util.ArrayList; 
import java.util.List; 
import java.util.Optional;
@Service 
public class CommentsService { 
	@Autowired 
	private CommentsRepository commentsRepository; 
	
	public List<Comments> codeReviewFindAll() { 
		List<Comments> codeReview = new ArrayList<>(); 
		commentsRepository.findAll().forEach(e -> codeReview.add(e)); 
		return codeReview; 
	} 
	
	public Optional<Comments> codeReviewFindById(Long CR_NO) { 
		Optional<Comments> codeReview = commentsRepository.findById(CR_NO);
		return codeReview; 
	} 
	
	public void codeReviewDeleteById(Long CR_NO) { 
		commentsRepository.deleteById(CR_NO); 
	} 
	
	public Comments save(Comments codeReview) { 
		commentsRepository.save(codeReview); return codeReview; 
	} 
	
	public void codeReviewUpdateById(Long CR_NO, Comments comments) { 
		Optional<Comments> codeReviews = commentsRepository.findById(CR_NO); 
		if (codeReviews.isPresent()) { 
			codeReviews.get().setCR_NO(codeReview.getCR_NO());
			codeReviews.get().setCR_TITLE(codeReview.getCR_TITLE());
			codeReviews.get().setCR_CREATER(codeReview.getCR_CREATER());
			codeReviews.get().setCR_CONTENTS(codeReview.getCR_CONTENTS());
			codeReviews.get().setCR_CREATEDAY(codeReview.getCR_CREATEDAY());
			codeReviews.get().setCR_UPDATEDAY(codeReview.getCR_UPDATEDAY());
			codeReviews.get().setCR_ISVIEW(codeReview.getCR_ISVIEW());
			codeReviews.get().setCR_STAR_COUNT(codeReview.getCR_STAR_COUNT());
			codeReviewRepository.save(codeReview);
		} 
	} 
}


