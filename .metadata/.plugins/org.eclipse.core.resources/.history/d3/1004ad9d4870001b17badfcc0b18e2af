package com.company.project.EndersOverFlow.service;


import org.springframework.beans.factory.annotation.Autowired; 
import org.springframework.stereotype.Service;

import com.company.project.EndersOverFlow.model.CodeReview;
import com.company.project.EndersOverFlow.repository.CodeReviewRepository;

import java.util.ArrayList; 
import java.util.List; 
import java.util.Optional;
@Service 
public class CodeReviewService { 
	@Autowired 
	private CodeReviewRepository codeReviewRepository; 
	
	public List<CodeReview> findAll() { 
		List<CodeReview> codeReview = new ArrayList<>(); 
		codeReviewRepository.findAll().forEach(e -> codeReview.add(e)); 
		return codeReview; 
	} 
	
	public Optional<CodeReview> findById(Long CR_NO) { 
		Optional<CodeReview> codeReview = codeReviewRepository.findById(CR_NO);
		return codeReview; 
	} 
	
	public void deleteById(Long CR_NO) { 
		codeReviewRepository.deleteById(CR_NO); 
	} 
	
	public CodeReview save(CodeReview codeReview) { 
		codeReviewRepository.save(codeReview); return codeReview; 
	} 
	
	public void updateById(Long CR_NO, CodeReview member) { 
		Optional<CodeReview> codeReview = codeReviewRepository.findById(CR_NO); 
		if (codeReview.isPresent()) { 
			codeReview.get().setCR_NO(member.getCR_NO()); 
			codeReviewRepository.save(member); 
		} 
	} 
}


